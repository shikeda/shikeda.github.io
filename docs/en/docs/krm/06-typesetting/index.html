<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Typesetting Configuration for Transcriptions and Annotations
  #


  Introduction
  #

This document outlines methods for typesetting transcriptions and annotations of old dictionaries using an environment comprising LuaTeX, Hanazono Mincho fonts, GlyphWiki, and the sfkanbun.sty package.
It is recommended to use LuaTeX via TeX Live and VS Code as the editor. Instructions for installing and using TeX Live and VS Code are widely available on the web and will be omitted here.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://shikeda.github.io/en/docs/krm/06-typesetting/">
  <meta property="og:site_name" content="HDIC project">
  <meta property="og:title" content="Typesetting Configuration for Transcriptions and Annotations">
  <meta property="og:description" content="Typesetting Configuration for Transcriptions and Annotations # Introduction # This document outlines methods for typesetting transcriptions and annotations of old dictionaries using an environment comprising LuaTeX, Hanazono Mincho fonts, GlyphWiki, and the sfkanbun.sty package.
It is recommended to use LuaTeX via TeX Live and VS Code as the editor. Instructions for installing and using TeX Live and VS Code are widely available on the web and will be omitted here.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<title>Typesetting Configuration for Transcriptions and Annotations | HDIC project</title>
<link rel="manifest" href="https://shikeda.github.io/manifest.json">
<link rel="icon" href="https://shikeda.github.io/favicon.png" type="image/x-icon">
  <link rel="alternate" hreflang="ja" href="https://shikeda.github.io/docs/krm/06-typesetting/" title="翻刻・注釈の組版の設定">
<link rel="stylesheet" href="https://shikeda.github.io/book.min.2eb9261045046b5a62a3b05a0d42dc83843b245d6ee2833aae5e96f3ec26c703.css" integrity="sha256-LrkmEEUEa1pio7BaDULcg4Q7JF1u4oM6rl6W8&#43;wmxwM=" crossorigin="anonymous">
  <script defer src="https://shikeda.github.io/flexsearch.min.js"></script>
  <script defer src="https://shikeda.github.io/en.search.min.8b6421a084b93b2b5527e756e8b27adc5536629dfdac74f34a362f961bfbe048.js" integrity="sha256-i2QhoIS5OytVJ&#43;dW6LJ63FU2Yp39rHTzSjYvlhv74Eg=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="https://shikeda.github.io/en/docs/krm/06-typesetting/index.xml" title="HDIC project" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
--><link rel="stylesheet" href="https://shikeda.github.io/css/custom.css">

  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="https://shikeda.github.io/en/"><span>HDIC project</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  


  


<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="https://shikeda.github.io/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://shikeda.github.io/docs/krm/06-typesetting/">
          Japanese
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/" class="">Ruiju Myogisho</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fe4953158011da80352f6b605413b346" class="toggle"  />
    <label for="section-fe4953158011da80352f6b605413b346" class="flex justify-between">
      <a href="https://shikeda.github.io/en/docs/krm/01-introduction/" class="">Overview</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/01-introduction/01-01-introduction/" class="">Overview of the Ruiju Myōgishō</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e3bfb61b8131e704b0bbd71767a61c63" class="toggle"  />
    <label for="section-e3bfb61b8131e704b0bbd71767a61c63" class="flex justify-between">
      <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/" class="">Overview of Published Data</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-01-main/" class="">krm_main</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-02-notes/" class="">krm_notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-03-headword-chars/" class="">krm_headword_chars</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-04-wakun/" class="">krm_wakun</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-05-definitions/" class="">krm_definitions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-06-pronunciations/" class="">krm_pronunciations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/02-data-overview/02-07-ndl/" class="">krm_ndl</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-33c5ef776fdf1c9ec2851a185ad664e7" class="toggle"  />
    <label for="section-33c5ef776fdf1c9ec2851a185ad664e7" class="flex justify-between">
      <a href="https://shikeda.github.io/en/docs/krm/03-entry-data-model/" class="">Entry Data Model</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/03-entry-data-model/03-01-data-structure/" class="">Entry Data Structure</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/03-entry-data-model/03-02-types-of-entries/" class="">Types of Entries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/03-entry-data-model/03-03-concepts-char/" class="">Concepts Related to Character Notation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/03-entry-data-model/03-04-data-example/" class="">Examples of Entry Data Files</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-40a934ea323d396f26da6a53282b1209" class="toggle"  />
    <label for="section-40a934ea323d396f26da6a53282b1209" class="flex justify-between">
      <a href="https://shikeda.github.io/en/docs/krm/04-entry-input/" class="">Input of Entry Data</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/04-entry-input/04-01-id/" class="">Headwords, Entry Structure, and ID System</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/04-entry-input/04-02-char/" class="">Character Encoding and Representation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/04-entry-input/04-03-handling/" class="">Handling Issues in Transcription, Notation, and Annotation</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e4a0d71d6be598bcede7c6486548abd3" class="toggle"  />
    <label for="section-e4a0d71d6be598bcede7c6486548abd3" class="flex justify-between">
      <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/" class="">Basic Policy for Annotation Creation</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-01-basic-policy/" class="">Basic Policy and Subjects of Analysis for Annotation Creation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-02-headword-count/" class="">Calculation of Headword Character Count</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-03-jitaichu-formats/" class="">Types and Notation Formats of Character Form Notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-04-onchu-problems/" class="">Types and Decipherment Problems of Pronunciation Notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-05-gichu-quantity/" class="">Types and Quantity of Meaning Notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-06-wakun-materials/" class="">Basic Materials for Wakun Annotation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/05-annotation-policy/05-07-annotation-examples/" class="">Concrete Examples of Annotation Description</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8f36bd55eb0bd85ca8e0efcd3f2704d0" class="toggle" checked />
    <label for="section-8f36bd55eb0bd85ca8e0efcd3f2704d0" class="flex justify-between">
      <a href="https://shikeda.github.io/en/docs/krm/06-typesetting/" class="active">Typesetting Configuration for Transcriptions and Annotations</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/06-typesetting/06-01-hanazono-mincho/" class="">Setting up Hanazono Mincho</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/06-typesetting/06-02-glyphwiki/" class="">Setting up GlyphWiki</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/06-typesetting/06-03-sfkanbun-sty/" class="">Setting up sfkanbun.sty</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/06-typesetting/06-04-vscode-texlive/" class="">A Memorandum on LuaTeX Typesetting for Old Dictionaries and Kunten Materials</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://shikeda.github.io/en/docs/krm/06-typesetting/06-05-online-tools/" class="">Online Tools</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">

    <div style="text-align: right; padding: 1rem;">
      

  
    <a href="https://shikeda.github.io/docs/krm/06-typesetting/">日本語</a>
  


    </div>

      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="https://shikeda.github.io/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Typesetting Configuration for Transcriptions and Annotations</strong>

  <label for="toc-control">
    
    <img src="https://shikeda.github.io/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#typesetting-transcriptions-and-annotations">Typesetting Transcriptions and Annotations</a></li>
    <li><a href="#requirements-for-typesetting-software">Requirements for Typesetting Software</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="typesetting-configuration-for-transcriptions-and-annotations">
  Typesetting Configuration for Transcriptions and Annotations
  <a class="anchor" href="#typesetting-configuration-for-transcriptions-and-annotations">#</a>
</h1>
<h2 id="introduction">
  Introduction
  <a class="anchor" href="#introduction">#</a>
</h2>
<p>This document outlines methods for typesetting transcriptions and annotations of old dictionaries using an environment comprising LuaTeX, Hanazono Mincho fonts, GlyphWiki, and the <code>sfkanbun.sty</code> package.</p>
<p>It is recommended to use LuaTeX via TeX Live and VS Code as the editor. Instructions for installing and using TeX Live and VS Code are widely available on the web and will be omitted here.</p>
<h2 id="typesetting-transcriptions-and-annotations">
  Typesetting Transcriptions and Annotations
  <a class="anchor" href="#typesetting-transcriptions-and-annotations">#</a>
</h2>
<p>The transcriptions and annotations that have been created can be displayed and searched on the web.</p>
<p>Separately from this, we will consider methods for typesetting the web content into a more readable, book-like format.</p>
<p>Since the web content is written in Markdown, this can be addressed by converting it to an appropriate format.</p>
<p>This section serves as a memorandum on a method using LuaLaTeX.</p>
<h2 id="requirements-for-typesetting-software">
  Requirements for Typesetting Software
  <a class="anchor" href="#requirements-for-typesetting-software">#</a>
</h2>
<p>Old dictionaries and <em>kunten</em> materials (訓点資料, documents annotated with guiding marks for reading Chinese texts in Japanese) often contain many complex <strong><code>Hanzi (Chinese characters)</code></strong>, and their texts, including features like <strong><code>Interlinear Notes</code></strong> (割注, <em>warichū</em>) and side-line <em>kun</em> readings (傍訓, <em>bōkun</em>), can be intricate.</p>
<p>For displaying and printing rare or complex characters, it is essential to be able to easily use the following two resources:</p>
<ol>
<li>Hanazono Mincho (花園明朝) fonts</li>
<li>GlyphWiki</li>
</ol>
<p>To utilize both of these resources, LuaLaTeX appears to be a suitable choice. While upLaTeX might also be usable, configuring it to work with these resources seems likely to be a challenging endeavor.</p>
<p>For complex typesetting features such as <strong><code>Interlinear Notes</code></strong> and side-line <em>kun</em> readings, macro files can be used. Several such files have been publicly released:</p>
<ol>
<li><code>kunten2e.sty</code>: A style file for <em>kunten</em> materials.</li>
<li><code>sfkanbun.sty</code>: The sfkanbun package (for Kanbun texts).</li>
</ol>
<p>Both of these can be used with upLaTeX. However, they cannot be used directly with LuaLaTeX as is. After some investigation, it was found that <code>sfkanbun.sty</code> can be made compatible with LuaLaTeX by modifying its files slightly. The necessary modifications are minimal.</p>
<p>It has been over 20 years since I last created document files using LaTeX. At that time, I utilized the following combination:</p>
<ol>
<li><code>kunten2e.sty</code>: The style file for <em>kunten</em> materials.</li>
<li><code>mojikyo.sty</code>: For using Mojikyo fonts.</li>
</ol>
<p>It would be convenient if LaTeX document files written with these two could be made usable with only minor revisions. In other words, easy reuse of older LaTeX document files is preferable.</p>
<p>Migrating from <code>kunten2e.sty</code> to <code>sfkanbun.sty</code> appears to be relatively straightforward.</p>
<p>While <code>mojikyo.sty</code> was useful when Unicode <strong><code>Hanzi (Chinese characters)</code></strong> could not be freely used, it is no longer necessary now that Unicode <strong><code>Hanzi (Chinese characters)</code></strong> can be input and processed directly.</p>
<p>The approach would be to enable the use of Hanazono Mincho fonts and then utilize <code>bxglyphwiki.sty</code>, which is compatible with LuaLaTeX, for GlyphWiki integration.</p>
<ul>
<li><a href="./06-typesetting/06-01-hanazono-mincho/">Setting up Hanazono Mincho</a></li>
<li><a href="./06-typesetting/06-02-glyphwiki/">Setting up GlyphWiki</a></li>
<li><a href="./06-typesetting/06-03-sfkanbun-sty/">Setting up sfkanbun.sty</a></li>
<li><a href="./06-typesetting/06-04-vscode-texlive/">A Memorandum on LuaTeX Typesetting for Old Dictionaries and Kunten Materials</a></li>
<li><a href="./06-typesetting/06-05-online-tools/">Online Tools</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  

  
    <a href="https://shikeda.github.io/docs/krm/06-typesetting/">日本語</a>
  



 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#typesetting-transcriptions-and-annotations">Typesetting Transcriptions and Annotations</a></li>
    <li><a href="#requirements-for-typesetting-software">Requirements for Typesetting Software</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












